{
  "version": 3,
  "sources": ["../../../app/routes/_index.tsx", "../../../app/components/Balance.module.css", "../../../app/components/Balance.tsx", "../../../app/components/PieChart.module.css", "../../../app/components/PieChart.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/_index.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/_index.tsx\");\n  import.meta.hot.lastModified = \"1700408491405.1711\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { Link, useLoaderData } from \"@remix-run/react\";\nimport { Balance } from \"~/components/Balance\";\nimport { AuthMenu, UnauthMenu } from \"~/components/Menu\";\nimport PieChart from \"~/components/PieChart\";\nimport { getCategories } from \"~/models/category.server\";\nimport { getExpensesByCategory } from \"~/models/expense.server\";\nimport { getUserId } from \"~/session.server\";\nimport { useOptionalUser } from \"~/utils\";\nexport async function loader({\n  request\n}) {\n  const userId = await getUserId(request);\n  if (!userId) {\n    return json({\n      categories: []\n    });\n  }\n  const categoriesWithoutExpenses = await getCategories({\n    userId\n  });\n  const expensesByCategory = await getExpensesByCategory({\n    userId\n  });\n  const categories = categoriesWithoutExpenses.map(category => ({\n    ...category,\n    value: expensesByCategory.find(({\n      categoryId\n    }) => categoryId === category.id)?._sum.value || 0\n  }));\n  return json({\n    categories\n  });\n}\nfunction Dashboard({\n  user\n}) {\n  _s();\n  const data = useLoaderData();\n  const expenseSum = data.categories.reduce((sum, {\n    value\n  }) => sum + value, 0);\n  const balance = user.income - expenseSum;\n  return <AuthMenu>\n      <Balance amount={balance} />\n      <PieChart items={data.categories} />\n    </AuthMenu>;\n}\n_s(Dashboard, \"5thj+e1edPyRpKif1JmVRC6KArE=\", false, function () {\n  return [useLoaderData];\n});\n_c = Dashboard;\nfunction Welcome() {\n  return <UnauthMenu>\n      <h1>Welcome</h1>\n      <p>\n        Welcome to the <strong>Expens.ee</strong> Expense Tracker application.\n      </p>\n      <p>\n        Please <Link to=\"/login\">login</Link> or{\" \"}\n        <Link to=\"/join\">create a user</Link>.\n      </p>\n    </UnauthMenu>;\n}\n_c2 = Welcome;\nexport default function Index() {\n  _s2();\n  const user = useOptionalUser();\n  return user ? <Dashboard user={user} /> : <Welcome />;\n}\n_s2(Index, \"gqXoXrwy0rMHgaN7Y1noFHoOsVs=\", false, function () {\n  return [useOptionalUser];\n});\n_c3 = Index;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"Welcome\");\n$RefreshReg$(_c3, \"Index\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;", "export default {\"wrapper\":\"Balance-module__wrapper__WnVzj\",\"heading\":\"Balance-module__heading__fzRMO\",\"amount\":\"Balance-module__amount__-f0BT\"};", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/components/Balance.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/Balance.tsx\");\n}\n// REMIX HMR END\n\nimport styles from \"./Balance.module.css\";\nexport function Balance({\n  amount\n}) {\n  const formatter = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\"\n  });\n  return <section className={styles.wrapper}>\n      <p className={styles.heading}>Balance</p>\n      <p className={styles.amount}>{formatter.format(amount)}</p>\n    </section>;\n}\n_c = Balance;\nvar _c;\n$RefreshReg$(_c, \"Balance\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;", "export default {\"wrapper\":\"PieChart-module__wrapper__ANwBi\",\"pie\":\"PieChart-module__pie__lGbIb\",\"legend\":\"PieChart-module__legend__FvU3K\",\"label\":\"PieChart-module__label__5El2n\",\"dot\":\"PieChart-module__dot__pCAT8\"};", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/components/PieChart.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/PieChart.tsx\");\n}\n// REMIX HMR END\n\nimport styles from \"./PieChart.module.css\";\nfunction PieChart({\n  items\n}) {\n  items.sort(({\n    value: a\n  }, {\n    value: b\n  }) => b - a);\n  const sum = items.reduce((a, {\n    value\n  }) => a + value, 0);\n  const incremental = items.reduce((list, {\n    value\n  }) => [...list, list[list.length - 1] + value], [0]).slice(1);\n  const gradientStops = Object.values(incremental).map((value, index) => [[items[index].color, 0].join(\" \"), [items[index].color, `${value / sum}turn`].join(\" \")]).flat().join(\",\");\n  const gradient = `conic-gradient(${gradientStops})`;\n  return <section className={styles.wrapper}>\n      <div className={styles.pie} style={{\n      backgroundImage: gradient\n    }} />\n      <ul className={styles.legend}>\n        {items.map(({\n        name,\n        color,\n        value\n      }) => value > 0 ? <li key={name} className={styles.label}>\n              <span style={{\n          backgroundColor: color\n        }} className={styles.dot} />\n              {name}\n            </li> : null)}\n      </ul>\n    </section>;\n}\n_c = PieChart;\nexport default PieChart;\nvar _c;\n$RefreshReg$(_c, \"PieChart\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_jsx_dev_runtime", "_c", "import_jsx_dev_runtime", "_c", "_c2", "_c3"]
}
